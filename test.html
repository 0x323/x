<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Modal Tugas Sosial Media</title>
  <style>
    body {
      font-family: sans-serif;
    }

    .modal {
      display: flex;
      position: fixed;
      z-index: 9999;
      top: 0; left: 0;
      width: 100%; height: 100%;
      justify-content: center;
      align-items: center;
      background: rgba(0, 0, 0, 0.7);
    }

    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      width: 90%;
      max-width: 400px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }

    .task {
      margin: 10px 0;
    }

    .task input[type="checkbox"] {
      margin-right: 10px;
    }

    .btn, .btn-task {
      padding: 10px 15px;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
      display: block;
      text-align: center;
      text-decoration: none;
    }

    .btn-task {
      background: #2196F3;
    }

    .btn:disabled {
      background: #aaa;
      cursor: not-allowed;
    }
  </style>
</head>
<body>

<div class="modal" id="taskModal">
  <div class="modal-content">
    <h3>Verifikasi Tugas Sosial Media</h3>

    <div class="task">
      <label><input type="checkbox" id="task1">Follow, Retweet, Like & Komentar Twitter</label>
      <a class="btn-task" href="https://twitter.com/LottoChainXyz" target="_blank" onclick="autoCheck('task1')">Buka Twitter</a>
    </div>

    <div class="task">
      <label><input type="checkbox" id="task2">Join Channel Telegram</label>
      <a class="btn-task" href="https://t.me/LottoChainXyz" target="_blank" onclick="autoCheck('task2')">Buka Telegram</a>
    </div>

    <div class="task">
      <label><input type="checkbox" id="task3">Join Halaman Facebook</label>
      <a class="btn-task" href="https://facebook.com/LottoChainXyz" target="_blank" onclick="autoCheck('task3')">Buka Facebook</a>
    </div>

    <button class="btn" id="continueBtn" disabled>Lanjutkan</button>
  </div>
</div>

<script>
  const task1 = document.getElementById("task1");
  const task2 = document.getElementById("task2");
  const task3 = document.getElementById("task3");
  const btn = document.getElementById("continueBtn");

  function checkTasks() {
    btn.disabled = !(task1.checked && task2.checked && task3.checked);
  }

  function autoCheck(taskId) {
    setTimeout(() => {
      document.getElementById(taskId).checked = true;
      checkTasks();
    }, 2000); // delay biar lebih natural
  }

  task1.addEventListener("change", checkTasks);
  task2.addEventListener("change", checkTasks);
  task3.addEventListener("change", checkTasks);

  btn.addEventListener("click", function () {
    document.getElementById("taskModal").style.display = "none";
    alert("Semua tugas selesai. Modal ditutup.");
  });

  window.console = {
    log: function() {
      if (!(task1.checked && task2.checked && task3.checked)) {
        alert("Selesaikan tugas dulu sebelum membuka console.");
        throw new Error("Blocked console until tasks done.");
      }
    },
    warn: function() {},
    error: function() {}
  };
</script>

</body>
</html>
